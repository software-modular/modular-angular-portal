<div class="dynamic-form-container" [ngClass]="data.showBorder ? 'card': ''">
  <div class="dynamic-form-header-container">
    <div class="dynamic-form-header-title-container" [ngStyle]="{ 'text-align': data.titleAling}">
      <mat-label class="dynamic-form-header-title-label">
        {{data.title}}
      </mat-label>
    </div>
  </div>
  <div class="dynamic-form-body-container">
    <form [formGroup]="formGroup">
      <div *ngFor="let field of data.fields; let index" class="row">
        <div *ngIf="field.type === getTypeField('TEXT')" class="col-md-12">
          <mat-form-field [ngClass]="'dynamic-form-field-container'">
            <mat-label>{{field.label}}</mat-label>
            <input matInput [formControlName]="field.formControlName" [placeholder]="field.placeholder || ''">
            <mat-error *ngIf="formGroup.get(field.formControlName)?.invalid
            && (formGroup.get(field.formControlName)?.dirty
            || formGroup.get(field.formControlName)?.touched)">
              <label *ngIf="field.customErrorMessage === ''">El campo {{field.label}} es
                obligatorio.</label>
              <label *ngIf="field.customErrorMessage !== ''">{{field.customErrorMessage}}</label>
            </mat-error>
          </mat-form-field>
        </div>
        <div *ngIf="field.type === getTypeField('PASSWORD')" class="col-md-12">
          <mat-form-field [ngClass]="'dynamic-form-field-container'">
            <mat-label>{{field.label}}</mat-label>
            <input type="password" matInput [formControlName]="field.formControlName"
              [placeholder]="field.placeholder || ''">
            <mat-error *ngIf="formGroup.get(field.formControlName)?.invalid
            && (formGroup.get(field.formControlName)?.dirty
            || formGroup.get(field.formControlName)?.touched)">
              <label *ngIf="field.customErrorMessage === ''">El campo {{field.label}} es
                obligatorio.</label>
              <label *ngIf="field.customErrorMessage !== ''">{{field.customErrorMessage}}</label>
            </mat-error>
          </mat-form-field>
        </div>
        <div *ngIf="field.type === getTypeField('EMAIL')" class="col-md-12">
          <mat-form-field [ngClass]="'dynamic-form-field-container'">
            <mat-label>{{field.label}}</mat-label>
            <input type="email" matInput [formControlName]="field.formControlName"
              [placeholder]="field.placeholder|| ''">
            <mat-error *ngIf="formGroup.get(field.formControlName)?.hasError('email')">
              <label>El campo {{field.label}} no es valido.</label>
            </mat-error>
            <mat-error *ngIf="formGroup.get(field.formControlName)?.invalid
            && (formGroup.get(field.formControlName)?.dirty
            || formGroup.get(field.formControlName)?.touched)">
              <label *ngIf="field.customErrorMessage === ''">El campo {{field.label}} es
                obligatorio.</label>
              <label *ngIf="field.customErrorMessage !== ''">{{field.customErrorMessage}}</label>
            </mat-error>
          </mat-form-field>
        </div>
        <div *ngIf="field.type === getTypeField('TEXT_AREA')" class="col-md-12">
          <mat-form-field [ngClass]="'dynamic-form-field-container'">
            <mat-label>{{field.label}}</mat-label>
            <textarea matInput [formControlName]="field.formControlName"
              [placeholder]="field.placeholder || ''"></textarea>
            <mat-error *ngIf="formGroup.get(field.formControlName)?.invalid
            && (formGroup.get(field.formControlName)?.dirty
            || formGroup.get(field.formControlName)?.touched)">
              <label *ngIf="field.customErrorMessage === ''">El campo {{field.label}} es
                obligatorio.</label>
              <label *ngIf="field.customErrorMessage !== ''">{{field.customErrorMessage}}</label>
            </mat-error>
          </mat-form-field>
        </div>
        <div *ngIf="field.type === getTypeField('DATE')" class="col-md-12">
          <mat-form-field [ngClass]="'dynamic-form-field-container'">
            <mat-label>{{field.label}}</mat-label>
            <input matInput [matDatepicker]="date" [formControlName]="field.formControlName">
            <mat-datepicker-toggle matIconSuffix [for]="date">
            </mat-datepicker-toggle>
            <mat-datepicker #date></mat-datepicker>
            <mat-error *ngIf="formGroup.get(field.formControlName)?.invalid
            && (formGroup.get(field.formControlName)?.dirty
            || formGroup.get(field.formControlName)?.touched)">
              <label *ngIf="field.customErrorMessage === ''">El campo {{field.label}} es
                obligatorio.</label>
              <label *ngIf="field.customErrorMessage !== ''">{{field.customErrorMessage}}</label>
            </mat-error>
          </mat-form-field>
        </div>
        <div *ngIf="field.type === getTypeField('LIST_OPTION')" class="col-md-12">
          <mat-form-field [ngClass]="'dynamic-form-field-container'">
            <mat-label>{{field.label}}</mat-label>
            <mat-select [formControlName]="field.formControlName">
              <mat-option *ngFor="let option of field.getValue()" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
            <mat-error *ngIf="formGroup.get(field.formControlName)?.invalid
            && (formGroup.get(field.formControlName)?.dirty
            || formGroup.get(field.formControlName)?.touched)">
              <label *ngIf="field.customErrorMessage === ''">El campo {{field.label}} es
                obligatorio.</label>
              <label *ngIf="field.customErrorMessage !== ''">{{field.customErrorMessage}}</label>
            </mat-error>
          </mat-form-field>
        </div>
      </div>
    </form>
  </div>
  <div class="dynamic-form-footer-container" *ngIf="data.showFooter">
    <br>
    <button class="btn btn-primary">{{data.btnLabel}}</button>
  </div>
</div>
