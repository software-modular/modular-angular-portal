<div class="dynamic-form-container" [ngClass]="data !== undefined && data.showBorder ? 'card': ''">
  <div class="dynamic-form-header-container">
    <div class="dynamic-form-header-title-container" [ngStyle]="{ 'text-align': data.titleAling}">
      <mat-label class="dynamic-form-header-title-label">
        {{data.title}}
      </mat-label>
    </div>
  </div>
  <div class="dynamic-form-body-container">
    <form [formGroup]="formGroup">
      <div *ngFor="let field of data.fields; let index" class="row">
        <div *ngIf="field.type === getTypeField('TEXT')" class="col-md-12">
          <mat-form-field [ngClass]="'dynamic-form-field-container'">
            <mat-label>{{field.label}}</mat-label>
            <input matInput [formControlName]="field.formControlName" [placeholder]="field.placeholder || ''">
          </mat-form-field>
          <div class="errors-container" *ngIf="formGroup.get(field.formControlName)?.dirty
          || formGroup.get(field.formControlName)?.touched">
            <label class="label-error" *ngIf="field.customErrorMessage !== ''">{{field.customErrorMessage}}</label>
            <label class="label-error" *ngIf="fieldHasError(field.formControlName, 'required')">
              El campo {{field.label}} es obligatorio</label>
            <label class="label-error" *ngIf="hasErrorMinlength(field.formControlName, field)">
              El campo {{field.label}} no supera el minimo de caracteres</label>
            <label class="label-error" *ngIf="hasErrorMaxlength(field.formControlName, field)">
              El campo {{field.label}} supera el maximo de caracteres</label>
          </div>
        </div>
        <div *ngIf="field.type === getTypeField('PASSWORD')" class="col-md-12">
          <mat-form-field [ngClass]="'dynamic-form-field-container'">
            <mat-label>{{field.label}}</mat-label>
            <input type="password" matInput [formControlName]="field.formControlName"
              [placeholder]="field.placeholder || ''">
          </mat-form-field>
          <div class="errors-container" *ngIf="formGroup.get(field.formControlName)?.dirty
          || formGroup.get(field.formControlName)?.touched">
            <label class="label-error" *ngIf="field.customErrorMessage !== ''">{{field.customErrorMessage}}</label>
            <label class="label-error" *ngIf="fieldHasError(field.formControlName, 'required')">
              El campo {{field.label}} es obligatorio</label>
            <label class="label-error" *ngIf="hasErrorMinlength(field.formControlName, field)">
              El campo {{field.label}} no supera el minimo de caracteres</label>
            <label class="label-error" *ngIf="hasErrorMaxlength(field.formControlName, field)">
              El campo {{field.label}} supera el maximo de caracteres</label>
          </div>
        </div>
        <div *ngIf="field.type === getTypeField('EMAIL')" class="col-md-12">
          <mat-form-field [ngClass]="'dynamic-form-field-container'">
            <mat-label>{{field.label}}</mat-label>
            <input type="email" matInput [formControlName]="field.formControlName"
              [placeholder]="field.placeholder|| ''">

          </mat-form-field>
          <div class="errors-container" *ngIf="formGroup.get(field.formControlName)?.dirty
          || formGroup.get(field.formControlName)?.touched">
            <label class="label-error" *ngIf="field.customErrorMessage !== ''">{{field.customErrorMessage}}</label>
            <label class="label-error" *ngIf="fieldHasError(field.formControlName, 'required')">
              El campo {{field.label}} es obligatorio</label>
            <label class="label-error" *ngIf="hasErrorMinlength(field.formControlName, field)">
              El campo {{field.label}} no supera el minimo de caracteres</label>
            <label class="label-error" *ngIf="hasErrorMaxlength(field.formControlName, field)">
              El campo {{field.label}} supera el maximo de caracteres</label>
            <label class="label-error" *ngIf="fieldHasError(field.formControlName, 'email')">
              El correo no es valido</label>
          </div>
        </div>
        <div *ngIf="field.type === getTypeField('TEXT_AREA')" class="col-md-12">
          <mat-form-field [ngClass]="'dynamic-form-field-container'">
            <mat-label>{{field.label}}</mat-label>
            <textarea matInput [formControlName]="field.formControlName"
              [placeholder]="field.placeholder || ''"></textarea>
          </mat-form-field>
          <div class="errors-container" *ngIf="formGroup.get(field.formControlName)?.dirty
          || formGroup.get(field.formControlName)?.touched">
            <label class="label-error" *ngIf="field.customErrorMessage !== ''">{{field.customErrorMessage}}</label>
            <label class="label-error" *ngIf="fieldHasError(field.formControlName, 'required')">
              El campo {{field.label}} es obligatorio</label>
            <label class="label-error" *ngIf="hasErrorMinlength(field.formControlName, field)">
              El campo {{field.label}} no supera el minimo de caracteres</label>
            <label class="label-error" *ngIf="hasErrorMaxlength(field.formControlName, field)">
              El campo {{field.label}} supera el maximo de caracteres</label>
          </div>
        </div>
        <div *ngIf="field.type === getTypeField('DATE')" class="col-md-12">
          <mat-form-field [ngClass]="'dynamic-form-field-container'">
            <mat-label>{{field.label}}</mat-label>
            <input matInput [matDatepicker]="date" [formControlName]="field.formControlName">
            <mat-datepicker-toggle matIconSuffix [for]="date">
            </mat-datepicker-toggle>
            <mat-datepicker #date></mat-datepicker>
          </mat-form-field>
          <div class="errors-container" *ngIf="formGroup.get(field.formControlName)?.dirty
          || formGroup.get(field.formControlName)?.touched">
            <label class="label-error" *ngIf="field.customErrorMessage !== ''">{{field.customErrorMessage}}</label>
            <label class="label-error" *ngIf="fieldHasError(field.formControlName, 'required')">
              El campo {{field.label}} es obligatorio</label>
          </div>
        </div>
        <div *ngIf="field.type === getTypeField('LIST_OPTION')" class="col-md-12">
          <mat-form-field [ngClass]="'dynamic-form-field-container'">
            <mat-label>{{field.label}}</mat-label>
            <mat-select [formControlName]="field.formControlName">
              <mat-option *ngFor="let option of field.getValue()" [value]="option.value">
                {{option.label}}
              </mat-option>
            </mat-select>
          </mat-form-field>
          <div class="errors-container" *ngIf="formGroup.get(field.formControlName)?.dirty
          || formGroup.get(field.formControlName)?.touched">
            <label class="label-error" *ngIf="field.customErrorMessage !== ''">{{field.customErrorMessage}}</label>
            <label class="label-error" *ngIf="fieldHasError(field.formControlName, 'required')">
              El campo {{field.label}} es obligatorio</label>
          </div>
        </div>
        <div *ngIf="field.type === getTypeField('NUMBER')" class="col-md-12">
          <mat-form-field [ngClass]="'dynamic-form-field-container'">
            <mat-label>{{field.label}}</mat-label>
            <input matInput type="number" [formControlName]="field.formControlName"
              [placeholder]="field.placeholder || ''">
          </mat-form-field>
          <div class="errors-container" *ngIf="formGroup.get(field.formControlName)?.dirty
          || formGroup.get(field.formControlName)?.touched">
            <label class="label-error" *ngIf="field.customErrorMessage !== ''">{{field.customErrorMessage}}</label>
            <label class="label-error" *ngIf="fieldHasError(field.formControlName, 'required')">
              El campo {{field.label}} es obligatorio</label>
            <label class="label-error" *ngIf="hasErrorMinlength(field.formControlName, field)">
              El campo {{field.label}} no supera el minimo de caracteres</label>
            <label class="label-error" *ngIf="hasErrorMaxlength(field.formControlName, field)">
              El campo {{field.label}} supera el maximo de caracteres</label>
          </div>
        </div>
        <div *ngIf="field.type === getTypeField('HIDDEN')">
          <input [formControlName]="field.formControlName" type="hidden">
        </div>
      </div>
    </form>
  </div>
  <div class="dynamic-form-footer-container" *ngIf="data.showFooter">
    <br>
    <button class="btn btn-primary">{{data.btnLabel}}</button>
  </div>
</div>
